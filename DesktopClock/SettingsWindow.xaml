<Window x:Class="DesktopClock.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DesktopClock"
        xmlns:p="clr-namespace:DesktopClock.Properties"
        d:DataContext="{d:DesignInstance Type=local:SettingsWindowViewModel}"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        mc:Ignorable="d"
        Title="DesktopClock"
        Width="500"
        ResizeMode="CanMinimize"
        SizeToContent="Height"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="4,0" />
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="MinHeight" Value="23" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>
    </Window.Resources>

    <TabControl Padding="12,12,12,0" SelectedIndex="{Binding Settings.SettingsTabIndex, Mode=TwoWay}">
        <TabItem Header="Format">
            <StackPanel>
                <TextBlock Text="Date and Time Format:" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="20" />
                    </Grid.ColumnDefinitions>
                    <TextBox Grid.Column="0" Text="{Binding Settings.Format, UpdateSourceTrigger=PropertyChanged}" />
                    <ComboBox Grid.Column="1"
                              DisplayMemberPath="Example"
                              ItemsSource="{x:Static local:DateFormatExample.DefaultExamples}"
                              SelectionChanged="SelectFormat" />
                </Grid>
                <TextBlock FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12">
                    <Run Text=".NET format string for the time shown on the clock. Format specific parts inside { and }." />
                    <Hyperlink NavigateUri="https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings" RequestNavigate="Hyperlink_RequestNavigate">
                        Learn more
                    </Hyperlink>
                </TextBlock>

                <TextBlock Text="Countdown Format:" />
                <TextBox Text="{Binding Settings.CountdownFormat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <TextBlock FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12">
                    <Run Text=".NET format string for the countdown mode. If left blank, it will be dynamic." />
                    <Hyperlink NavigateUri="https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-timespan-format-strings" RequestNavigate="Hyperlink_RequestNavigate">
                        Learn more
                    </Hyperlink>
                </TextBlock>

                <TextBlock Text="Countdown To:" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <TextBox Text="{Binding Settings.CountdownTo, Mode=TwoWay}" Grid.Column="0" />
                    <Button Content="Reset"
                            Command="{Binding ResetCountdownCommand}"
                            Padding="4,0,4,0"
                            Grid.Column="1" />
                </Grid>
                <TextBlock Text="Date and time to countdown to. If left blank, countdown mode is not enabled."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />


                <TextBlock Text="Time Zone:" />
                <ComboBox ItemsSource="{Binding TimeZones}" SelectedItem="{Binding Settings.TimeZone, Mode=TwoWay}" />
                <TextBlock Text="A different time zone to be used."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />
            </StackPanel>
        </TabItem>

        <TabItem Header="Appearance">
            <StackPanel>
                <TextBlock Text="Font Family:" />
                <ComboBox ItemsSource="{Binding FontFamilies}" SelectedItem="{Binding Settings.FontFamily, Mode=TwoWay}" />
                <TextBlock Text="Font to use for the clock's text."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <TextBlock Text="Text Color:" />
                <TextBox Text="{Binding Settings.TextColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <TextBlock Text="Text color for the clock's text."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <TextBlock Text="Outer Color:" />
                <TextBox Text="{Binding Settings.OuterColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <TextBlock Text="The outer color, for either the background or the outline."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Enable Background" IsChecked="{Binding Settings.BackgroundEnabled, Mode=TwoWay}" />
                <TextBlock Text="Shows a solid background instead of an outline."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <TextBlock Text="Background Opacity:" />
                <Slider Value="{Binding Settings.BackgroundOpacity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Minimum="0"
                        Maximum="1"
                        TickFrequency="0.01"
                        IsSnapToTickEnabled="True" />
                <TextBlock Text="Opacity of the background."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <!--  Binding doesn't format correctly and needs better documentation.  -->
                <!--<TextBlock Text="Background Corner Radius:" />
                <TextBox Text="{Binding Settings.BackgroundCornerRadius, Mode=TwoWay}" />
                <TextBlock Text="Corner radius of the background."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />-->

                <TextBlock Text="Background Image Path:" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <TextBox Text="{Binding Settings.BackgroundImagePath, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Column="0" />
                    <Button Content="Browse..."
                            Click="BrowseBackgroundImagePath"
                            Padding="4,0,4,0"
                            Grid.Column="1" />
                </Grid>
                <TextBlock Text="Path to the background image. If left blank, a solid color will be used."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <!--  Binding doesn't format correctly and needs better documentation.  -->
                <!--<TextBlock Text="Outline Thickness:" />
                <TextBox Text="{Binding Settings.OutlineThickness, Mode=TwoWay}" />
                <TextBlock Text="Thickness of the outline around the clock."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />-->
            </StackPanel>
        </TabItem>

        <TabItem Header="Behavior">
            <StackPanel>
                <CheckBox Content="Show in Taskbar" IsChecked="{Binding Settings.ShowInTaskbar, Mode=TwoWay}" />
                <TextBlock Text="Shows the app icon in the taskbar instead of the tray."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Run on Startup" IsChecked="{Binding Settings.RunOnStartup, Mode=TwoWay}" />
                <TextBlock Text="Opens the app when you log in."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Start Hidden" IsChecked="{Binding Settings.StartHidden, Mode=TwoWay}" />
                <TextBlock Text="Starts the app hidden until the taskbar or tray icon is clicked."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Drag to Move" IsChecked="{Binding Settings.DragToMove, Mode=TwoWay}" />
                <TextBlock Text="Allows moving the clock by dragging it with the cursor."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Right Aligned" IsChecked="{Binding Settings.RightAligned, Mode=TwoWay}" />
                <TextBlock Text="Experimental: Keeps the clock window aligned to the right when the size changes."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Right Aligned" IsChecked="{Binding Settings.RightAligned, Mode=TwoWay}" />
                <TextBlock Text="Experimental: Keeps the clock window aligned to the right when the size changes."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <CheckBox Content="Burn-in Mitigation" IsChecked="{Binding Settings.BurnInMitigation, Mode=TwoWay}" />
                <TextBlock Text="Experimental: Shifts the clock periodically in order to reduce screen burn-in."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <TextBlock Text="WAV File Path:" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <TextBox Text="{Binding Settings.WavFilePath, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.Column="0" />
                    <Button Content="Browse..."
                            Click="BrowseWavFilePath"
                            Padding="4,0,4,0"
                            Grid.Column="1" />
                </Grid>
                <TextBlock Text="Path to a WAV file to be played on a specified interval."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />

                <TextBlock Text="WAV File Interval:" />
                <TextBox Text="{Binding Settings.WavFileInterval, Mode=TwoWay}" />
                <TextBlock Text="Interval for playing the WAV file if one is specified and exists (HH:mm:ss)."
                           FontStyle="Italic"
                           FontSize="10"
                           Margin="0,0,0,12" />
            </StackPanel>
        </TabItem>

        <TabItem Header="Help">
            <StackPanel>
                <TextBlock FontWeight="Bold" FontSize="16">Shortcuts</TextBlock>
                <StackPanel Margin="0,0,0,12">
                    <TextBlock>
                        <Run FontWeight="Bold">Right-click:</Run>
                        Open the context menu</TextBlock>
                    <TextBlock>
                        <Run FontWeight="Bold">Double-click:</Run>
                        Copy clock text to clipboard</TextBlock>
                    <TextBlock>
                        <Run FontWeight="Bold">Click and drag:</Run>
                        Move the window</TextBlock>
                    <TextBlock>
                        <Run FontWeight="Bold">Ctrl and Mouse Wheel:</Run>
                        Zoom</TextBlock>
                    <TextBlock>
                        <Run FontWeight="Bold">Ctrl and +:</Run>
                        Zoom in</TextBlock>
                    <TextBlock>
                        <Run FontWeight="Bold">Ctrl and -:</Run>
                        Zoom out</TextBlock>
                </StackPanel>

                <TextBlock FontWeight="Bold" FontSize="16">Links</TextBlock>
                <StackPanel Margin="0,0,0,12">
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/danielchalmers/DesktopClock/releases" RequestNavigate="Hyperlink_RequestNavigate">
                            GitHub Releases (Check for updates)
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/danielchalmers/DesktopClock/issues" RequestNavigate="Hyperlink_RequestNavigate">
                            GitHub Issues (Found a bug or have an idea?)
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://play.google.com/store/apps/details?id=com.danielchalmers.journalapp" RequestNavigate="Hyperlink_RequestNavigate">
                            JournalApp - Save notes and keep track of your well-being (Android)
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/danielchalmers/Network-Monitor" RequestNavigate="Hyperlink_RequestNavigate">
                            Network Monitor - View live latency and bandwidth usage (Windows)
                        </Hyperlink>
                    </TextBlock>
                </StackPanel>

                <TextBlock FontWeight="Bold" FontSize="16">Credits</TextBlock>
                <StackPanel Margin="0,0,0,12">
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/CommunityToolkit/dotnet" RequestNavigate="Hyperlink_RequestNavigate">
                            CommunityToolkit
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/Fody/Costura" RequestNavigate="Hyperlink_RequestNavigate">
                            Costura.Fody
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/HavenDV/H.NotifyIcon" RequestNavigate="Hyperlink_RequestNavigate">
                            H.NotifyIcon.Wpf
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/Humanizr/Humanizer" RequestNavigate="Hyperlink_RequestNavigate">
                            Humanizer
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://www.newtonsoft.com/json" RequestNavigate="Hyperlink_RequestNavigate">
                            Newtonsoft.Json
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/Fody/PropertyChanged" RequestNavigate="Hyperlink_RequestNavigate">
                            PropertyChanged.Fody
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://github.com/danielchalmers/WpfWindowPlacement" RequestNavigate="Hyperlink_RequestNavigate">
                            WpfWindowPlacement
                        </Hyperlink>
                    </TextBlock>
                    <TextBlock>
                        <Hyperlink NavigateUri="https://www.flaticon.com/free-icon/three-o-clock-clock_13435" RequestNavigate="Hyperlink_RequestNavigate">
                            Clock icon
                        </Hyperlink>
                    </TextBlock>
                </StackPanel>
            </StackPanel>
        </TabItem>
    </TabControl>
</Window>
